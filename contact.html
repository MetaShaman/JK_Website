<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contact - Joon Kim Land Stewardship</title>
    <meta name="description" content="Get in touch with Joon Kim to discuss your land stewardship and project management needs. Schedule a complimentary consultation.">
    <link rel="stylesheet" href="css/styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=GA_MEASUREMENT_ID"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'GA_MEASUREMENT_ID');
    </script>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <a href="index.html">Joon Kim</a>
            </div>
            <ul class="nav-menu">
                <li class="nav-item">
                    <a href="index.html" class="nav-link">Home</a>
                </li>
                <li class="nav-item">
                    <a href="services.html" class="nav-link">Services</a>
                </li>
                <li class="nav-item">
                    <a href="about.html" class="nav-link">About</a>
                </li>
                <li class="nav-item">
                    <a href="contact.html" class="nav-link active">Contact</a>
                </li>
            </ul>
            <div class="nav-toggle" id="mobile-menu">
                <span class="bar"></span>
                <span class="bar"></span>
                <span class="bar"></span>
            </div>
        </div>
    </nav>

    <!-- Page Header -->
    <section class="page-header">
        <div class="container">
            <h1>Let's Connect</h1>
            <p>I'm eager to learn about your land and discuss how my services can help you achieve your goals. Please feel free to reach out using the contact information below, or fill out the form to schedule a complimentary consultation.</p>
        </div>
    </section>

    <!-- Contact Content -->
    <section class="contact-content">
        <div class="container">
            <div class="contact-grid">
                <!-- Contact Information -->
                <div class="contact-info">
                    <h2>Contact Information</h2>
                    <div class="contact-item">
                        <div class="contact-icon">
                            <i class="fas fa-envelope"></i>
                        </div>
                        <div class="contact-details">
                            <h3>Email</h3>
                            <p>ivanjoonkim@gmail.com</p>
                        </div>
                    </div>
                    <div class="contact-item">
                        <div class="contact-icon">
                            <i class="fas fa-map-marker-alt"></i>
                        </div>
                        <div class="contact-details">
                            <h3>Location</h3>
                            <p>315 Margarita Dr.<br>San Rafael, CA 94901</p>
                        </div>
                    </div>
                    
                    <!-- Service Areas -->
                    <div class="service-areas">
                        <h3>Service Areas</h3>
                        <p>Based in San Rafael, I primarily serve properties in Northern California, with extensive experience in:</p>
                        <ul>
                            <li>Marin County</li>
                            <li>Sonoma County</li>
                            <li>Napa County</li>
                            <li>San Francisco Bay Area</li>
                        </ul>
                        <p class="note">For properties outside these areas, please contact me to discuss availability.</p>
                    </div>
                </div>

                <!-- Contact Form -->
                <div class="contact-form">
                    <h2>Send Me a Message</h2>
                    <form id="contactForm" action="https://docs.google.com/forms/d/e/1FAIpQLSf76wgQZ6fUxB7f2Zt1Ppjw1hlQcoKqmk4Yn0O2R5Qmy9UHJA/formResponse" method="POST" target="hidden_iframe">
                        <div class="form-group">
                            <label for="email">Email *</label>
                            <input type="email" id="email" name="emailAddress" required>
                        </div>
                        <div class="form-group">
                            <label for="landLove">What is one thing that you love about your land?</label>
                            <input type="text" id="landLove" name="entry.428724634" placeholder="Tell me about your favorite aspect of your land">
                        </div>
                        <div class="form-group">
                            <label for="name">Full Name *</label>
                            <input type="text" id="name" name="entry.641543091" required>
                        </div>
                        <div class="form-group">
                            <label for="phone">Phone Number</label>
                            <input type="tel" id="phone" name="entry.1764103006">
                        </div>
                        <div class="form-group">
                            <label for="property-location">Land Location</label>
                            <input type="text" id="property-location" name="entry.1531760759" placeholder="City, State">
                        </div>
                        <div class="form-group">
                            <label for="property-size">Land Size</label>
                            <select id="property-size" name="entry.789863818">
                                <option value="">Select land size</option>
                                <option value="Under 1 acre">Under 1 acre</option>
                                <option value="1-5 acres">1-5 acres</option>
                                <option value="5-10 acres">5-10 acres</option>
                                <option value="10+ acres">10+ acres</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="services-interest">Services of Interest</label>
                            <div class="checkbox-group">
                                <label class="checkbox-label">
                                    <input type="checkbox" name="entry.911095196" value="Structural Repairs & Maintenance">
                                    Structural Repairs & Maintenance
                                </label>
                                <label class="checkbox-label">
                                    <input type="checkbox" name="entry.911095196" value="Landscape & Garden Projects">
                                    Landscape & Garden Projects
                                </label>
                                <label class="checkbox-label">
                                    <input type="checkbox" name="entry.911095196" value="Design Support & Implementation">
                                    Design Support & Implementation
                                </label>
                                <label class="checkbox-label">
                                    <input type="checkbox" name="entry.911095196" value="Project Tracking & Oversight">
                                    Project Tracking & Oversight
                                </label>
                                <label class="checkbox-label">
                                    <input type="checkbox" name="entry.911095196" value="Regulatory Compliance & Permitting">
                                    Regulatory Compliance & Permitting
                                </label>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="timeline">Project Timeline</label>
                            <select id="timeline" name="entry.847273278">
                                <option value="">Select timeline</option>
                                <option value="Immediate (within 1 month)">Immediate (within 1 month)</option>
                                <option value="Short-term (1-3 months)">Short-term (1-3 months)</option>
                                <option value="Medium-term (3-6 months)">Medium-term (3-6 months)</option>
                                <option value="Long-term (6+ months)">Long-term (6+ months)</option>
                                <option value="Ongoing stewardship">Ongoing stewardship</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="message">Current Challenges and Goals *</label>
                            <textarea id="message" name="entry.771214362" rows="5" placeholder="Please describe your current land challenges and goals." required></textarea>
                        </div>
                        <div class="form-group">
                            <label for="contact-method">Preferred Contact Method *</label>
                            <select id="contact-method" name="entry.2117189622" required>
                                <option value="">Select contact method</option>
                                <option value="Email">Email</option>
                                <option value="Phone Call">Phone Call</option>
                                <option value="Video call (Zoom/Google Meet)">Video call (Zoom/Google Meet)</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="best-time">Best Time to Contact</label>
                            <select id="best-time" name="entry.2015429434">
                                <option value="">Select best time</option>
                                <option value="Morning (9 AM - 12 PM)">Morning (9 AM - 12 PM)</option>
                                <option value="Afternoon (12 PM - 5 PM)">Afternoon (12 PM - 5 PM)</option>
                                <option value="Evening (5 PM - 8 PM)">Evening (5 PM - 8 PM)</option>
                            </select>
                        </div>
                        
                        <!-- Consultation Preference Section -->
                        <div class="form-group">
                            <label class="form-label-required">Consultation Preference *</label>
                            <div class="radio-group">
                                <label class="radio-label">
                                    <input type="radio" name="consultationPreference" value="schedule-call" id="schedule-call" required>
                                    <span class="radio-custom"></span>
                                    <div class="radio-content">
                                        <span class="radio-title">📅 Schedule a 15-Minute Discovery Call</span>
                                        <span class="radio-description">I'd like to schedule a 15-minute complimentary discovery call to discuss my land stewardship needs (recommended for new clients)</span>
                                    </div>
                                </label>
                                <label class="radio-label">
                                    <input type="radio" name="consultationPreference" value="not-ready" id="not-ready" required>
                                    <span class="radio-custom"></span>
                                    <div class="radio-content">
                                        <span class="radio-title">📧 Email Communication Only</span>
                                        <span class="radio-description">I'm not ready to schedule a call today, but would like to receive information via email</span>
                                    </div>
                                </label>
                            </div>
                            <small class="form-help-text">💡 Discovery calls help us better understand your specific needs and provide tailored recommendations.</small>
                        </div>
                        
                        <!-- Calendly Widget Container (hidden by default) -->
                        <div id="calendly-container" class="calendly-container" style="display: none;">
                            <div class="calendly-header">
                                <h3>📅 Schedule Your 15-Minute Discovery Call</h3>
                                <p>Choose a time that works best for you. This will be a 15-minute complimentary discovery call to discuss your land stewardship needs and goals.</p>
                                <div class="calendly-instructions">
                                    <div class="instruction-step">
                                        <span class="step-number">1</span>
                                        <span>Fill out the form above with your project details</span>
                                    </div>
                                    <div class="instruction-step">
                                        <span class="step-number">2</span>
                                        <span>Schedule your discovery call below</span>
                                    </div>
                                    <div class="instruction-step">
                                        <span class="step-number">3</span>
                                        <span>Submit the form to send your information</span>
                                    </div>
                                </div>
                            </div>
                            <div class="calendly-inline-widget" data-url="https://calendly.com/joonkim_schedule/land-stewardship-discovery-call?prefill[email]=&prefill[name]=&prefill[first_name]=&prefill[last_name]=&prefill[phone]=&prefill[location]=&prefill[note]=" style="min-width:320px;height:700px;"></div>
                            <div id="call-scheduled-status" class="call-status" style="display: none;">
                                <div class="status-success">
                                    <i class="fas fa-check-circle"></i>
                                    <span>✅ Discovery call scheduled successfully!</span>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Hidden field to track call scheduling -->
                        <input type="hidden" id="call-scheduled" name="callScheduled" value="false">
                        
                        <!-- Hidden fields for Calendly booking data -->
                        <input type="hidden" id="appointment-booked" name="entry.696501216" value="No">
                        <input type="hidden" id="appointment-type" name="entry.789467207" value="">
                        <input type="hidden" id="appointment-date" name="entry.1891353278" value="">
                        <input type="hidden" id="appointment-time" name="entry.1771796759" value="">
                        <input type="hidden" id="appointment-info" name="entry.799991557" value="">
                        
                        <button type="submit" class="btn btn-primary">Send Message</button>
                    </form>
                    <iframe name="hidden_iframe" id="hidden_iframe" style="display:none;"></iframe>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>Joon Kim</h3>
                    <p>Land Stewardship & Project Management</p>
                    <p>San Rafael, CA</p>
                </div>
                <div class="footer-section">
                    <h4>Services</h4>
                    <ul>
                        <li><a href="services.html">Building & Infrastructure</a></li>
                        <li><a href="services.html">Land & Garden Projects</a></li>
                        <li><a href="services.html">Design & Implementation</a></li>
                        <li><a href="services.html">Oversight & Compliance</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>Contact</h4>
                    <p><i class="fas fa-envelope"></i> ivanjoonkim@gmail.com</p>
                    <p><i class="fas fa-map-marker-alt"></i> 315 Margarita Dr., San Rafael, CA 94901</p>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 Joon Kim. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script src="js/script.js"></script>
    
    <!-- Calendly Integration -->
    <script type="text/javascript" src="https://assets.calendly.com/assets/external/widget.js" async></script>
    <script>
        // Toggle Calendly widget when radio button is selected
        document.addEventListener('DOMContentLoaded', function() {
            const scheduleCallRadio = document.getElementById('schedule-call');
            const notReadyRadio = document.getElementById('not-ready');
            const calendlyContainer = document.getElementById('calendly-container');
            const contactForm = document.getElementById('contact-form');
            const callScheduledField = document.getElementById('call-scheduled');
            const callScheduledStatus = document.getElementById('call-scheduled-status');
            
            // Function to handle radio button changes
            function handleConsultationPreference() {
                if (scheduleCallRadio && scheduleCallRadio.checked) {
                    calendlyContainer.style.display = 'block';
                    // Reset call scheduled status when switching to call option
                    callScheduledField.value = 'false';
                    callScheduledStatus.style.display = 'none';
                    // Smooth scroll to the Calendly widget
                    calendlyContainer.scrollIntoView({ behavior: 'smooth', block: 'start' });
                } else {
                    calendlyContainer.style.display = 'none';
                    callScheduledField.value = 'false';
                    callScheduledStatus.style.display = 'none';
                }
            }
            
            // Add event listeners for radio buttons
            if (scheduleCallRadio) {
                scheduleCallRadio.addEventListener('change', handleConsultationPreference);
            }
            if (notReadyRadio) {
                notReadyRadio.addEventListener('change', handleConsultationPreference);
            }
            
            // Listen for Calendly booking events
            if (window.Calendly) {
                window.Calendly('onEventScheduled', function(e) {
                    console.log('Call scheduled:', e);
                    
                    // Update hidden fields with booking data
                    const appointmentBooked = document.getElementById('appointment-booked');
                    const appointmentType = document.getElementById('appointment-type');
                    const appointmentDate = document.getElementById('appointment-date');
                    const appointmentTime = document.getElementById('appointment-time');
                    const appointmentInfo = document.getElementById('appointment-info');
                    
                    if (appointmentBooked) appointmentBooked.value = 'Yes';
                    if (appointmentType) appointmentType.value = 'Land Stewardship Discovery Call';
                    
                    // Extract date and time from the event
                    if (e.data.payload && e.data.payload.event) {
                        const event = e.data.payload.event;
                        const startTime = new Date(event.start_time);
                        
                        if (appointmentDate) {
                            appointmentDate.value = startTime.toLocaleDateString('en-US', {
                                weekday: 'long',
                                year: 'numeric',
                                month: 'long',
                                day: 'numeric'
                            });
                        }
                        
                        if (appointmentTime) {
                            appointmentTime.value = startTime.toLocaleTimeString('en-US', {
                                hour: 'numeric',
                                minute: '2-digit',
                                timeZoneName: 'short'
                            });
                        }
                        
                        if (appointmentInfo) {
                            const info = [];
                            if (event.name) info.push(`Event: ${event.name}`);
                            if (event.duration) info.push(`Duration: ${event.duration} minutes`);
                            if (event.location) info.push(`Location: ${event.location}`);
                            appointmentInfo.value = info.join(' | ');
                        }
                    }
                    
                    callScheduledField.value = 'true';
                    callScheduledStatus.style.display = 'block';
                    callScheduledStatus.scrollIntoView({ behavior: 'smooth', block: 'center' });
                });
            }
            
            // Form submission validation
            if (contactForm) {
                contactForm.addEventListener('submit', function(e) {
                    const isSchedulingSelected = scheduleCallRadio && scheduleCallRadio.checked;
                    const isCallScheduled = callScheduledField.value === 'true';
                    
                    if (isSchedulingSelected && !isCallScheduled) {
                        e.preventDefault();
                        alert('⚠️ Please schedule your discovery call before submitting the form.\n\nYou selected to schedule a call, but no call has been scheduled yet. Please complete your booking in the calendar above, then try submitting again.');
                        calendlyContainer.scrollIntoView({ behavior: 'smooth', block: 'start' });
                        return false;
                    }
                    
                    if (isSchedulingSelected && isCallScheduled) {
                        // Show confirmation for scheduled calls
                        const reminder = confirm('Perfect! You\'ve scheduled your discovery call and filled out the form. Ready to submit?\n\nClick OK to send your information, or Cancel to review.');
                        
                        if (!reminder) {
                            e.preventDefault();
                            contactForm.scrollIntoView({ behavior: 'smooth', block: 'start' });
                            return false;
                        }
                    }
                });
            }
        });
    </script>
</body>
</html>

